package fr.syzonia.syzobungee.listeners;

import java.util.Random;

import fr.syzonia.syzobungee.Main;

import net.md_5.bungee.api.ServerPing;
import net.md_5.bungee.api.chat.TextComponent;
import net.md_5.bungee.api.event.ProxyPingEvent;
import net.md_5.bungee.api.plugin.Listener;
import net.md_5.bungee.event.EventHandler;

public class ServerPingListener implements Listener {

    @EventHandler
	public void onPing(ProxyPingEvent event) {

    
    	
        ServerPing ping = event.getResponse();

        ping.setDescriptionComponent(new TextComponent("         Â§6Â§lSyzonia Â§e[1.8] Â§fÂ» Â§ahttps://syzonia.fr\n             Â§6ðŸ’« Â§dTombola Monture Â§d+ Â§dEvent Â§cCakeÂ§3Wars Â§6ðŸ’«"));

        if(Main.Maintenance == 1) {
        	event.getResponse().setVersion(new ServerPing.Protocol( "Â§4Maintenance...", 3));
        }
        
        /*
        if(Main.soon = true && Main.Maintenance == 0) {
        	event.getResponse().setVersion(new ServerPing.Protocol( "Â§cBientÃ´t!", 3));
        }
        
        */
        
        Random r = new Random();
        int low = 9500;
        int high = 10000;
        int result = r.nextInt(high-low) + low;
        
        event.getResponse().setPlayers(new ServerPing.Players(10000, result, null));
        
        event.setResponse(ping);
    }
}
